{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load staticfiles %}
{% block head_title %}Welcome to eGrocer | Browse the {{ block.super }}{% endblock %}
{% block head_extra %}
<meta name="author" content="Beaker.Life">
<meta name="description" content="Browse. Buy. Pickup | Now offering no touch Curbside Pickup!">

<meta property="og:title" content="Introducing eGrocer! Browse our isles online Today!" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Browse. Buy. Pickup | Now offering No Touch Curbside Pickup!" />
<meta property="og:url" content="https://tranquil-depths-95358.herokuapp.com/" />
<meta property="og:image" content="https://rlabs-egrocer-bucket.s3.amazonaws.com/static/img/generic_grocery.jpg" />

{% endblock %}

<style>
{% block style %}
.navbar-static-top {
	margin-bottom: 0px !important;
}

.jumbotron {
	background-color:#5ACDFF;
	color: #000;
	{% if featured_image.make_image_background %} 
	background-image: url("{{ featured_image.image.url }}");
	background-repeat: no-repeat;
	background-color: #fff;
	/* color: #{{ featured_image.text_css_color }}; */
	/* text-shadow: 2px 2px #{{ featured_image.text_css_shadow_color }}; */
	background-size: cover;
	background-position-y: -60px;
	padding: 5rem 2rem;
	{% endif %}
}

.jumbotron-f {
	background-image: url("{{ featured_post.image.url }}");
	background-size: cover;
	background-repeat: no-repeat;
	background-color: #fff;
	background-position-y: -110px;
}

.no-text-shadow {
  text-shadow: 0px 0px !important;
}

.carousel-inner img {
  margin: auto;
}

.carousel-indicators li {
	background-color: #000;
}

/* .carousel-control-next-icon {
	background-color: #000;
} */

.carousel-control-prev-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23f00' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E");
}

.carousel-control-next-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23f00' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E");
}

.carousel-caption {
	/* background-color: #007bff; */
	background-color: #dc3545;
	border-radius: 9px;
	opacity: 0.9;
	/* left: 25%;
	width: 50%; */
	left: 40%;
    width: 20%;
}

.carousel-caption h5 a {
	color: inherit;
}

.carousel-inner img {
	max-height: 40vh;
}

/* .carousel-img {
	width: 50vw;
	height: 50vh;
} */

/* .vid-container {
	max-height: 30vh;
} */

.vid-container > a > img {
	width: 20vw;
	max-height: 30vh;
    /* height: 50vh; */
    /*height: 23vh;*/
    padding: 0rem 0rem 0rem 1.25rem;
    object-fit: cover;
  }
 
@media (max-width: 1560px) {
      /* .nav-scroller-popular { 
        overflow: hidden;
      /* } */

      .nav-scroller-popular > .row {
        /* position: relative; */
        /* overflow-y: hidden; */
        /* overflow: hidden; */
        margin-left: -15px;
        margin-right: -15px;
      }

      .vid-container > a > img {
        padding: 0rem 0rem 0rem 1rem;
        width: 20vw;
        /* width: 100%; */
      }
	}

	@media (max-width: 480px) {
	/* .nav-scroller-popular { 
	overflow: hidden;
	/* } */

	.vid-container > a > img {
	/* padding: 0rem 0rem 0rem 1rem; */
	width: 40vw;
	/* width: 100%; */
	}
	.carousel-caption {
		left: 33%;
    	width: 35%;
	}

} 

{% endblock %}


</style>


     
{% block jumbotron %}

	{% if featured_image %}
	<!-- <div class="jumbotron">
		<div class='container'>
			<div class="row">
				<div class='col-sm-12 text-right'>
					<div class='vid-container mb-4'>
						<div class='info'>
							<div class='title-block'>
							<div class='title-color'></div>
								<h4 class='title'><a href='{% url "products:exp_detail" slug=featured_image.product.slug %}?var_display={{ featured_image.product.variation_set.first.slug }}'>{{ featured_image.title }}<br/>
								<span class='jumbo-sm'>{{ featured_image.text }}</span></a></h4>
							</div>
						</div>
					</div>
					<br/><br/><br/><br/><br/>
				</div>
			</div>
		</div>
	</div> -->
	<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
			<ol class="carousel-indicators">
				<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
				<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
				<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
			</ol>	
			<div class="carousel-inner">
				<div class="carousel-item active">
					<img class="d-block carousel-img" src="{{ featured_image.image.url }}" alt="First slide">
					<div class="carousel-caption d-md-block">
						<h5><a href='{% url "products:exp_detail" slug=featured_image.product.slug %}?var_display={{ featured_image.product.variation_set.first.slug }}'>{{ featured_image.title }}</a></h5>
						<p>{{ featured_image.text }}</p>
					</div>
				</div>
				{% for featured in featured_products %}
					<div class="carousel-item">
						<img class="d-block" src="{{ featured.image.url }}" alt="Second slide">
						<div class="carousel-caption d-md-block">
							<h5><a href='{% url "products:exp_detail" slug=featured.product.slug %}?var_display={{ featured.product.variation_set.first.slug }}'>{{ featured.title }}</a></h5>
							<p>{{ featured.text }}</p>
						</div>
					</div>
				{% endfor %}
				<!-- 
				<div class="carousel-item">
					<img class="d-block" src="{{ featured_image.image.url }}" alt="Third slide">
					<div class="carousel-caption d-md-block">
						<h5>{{ featured_image.title }}</h5>
						<p>{{ featured_image.text }}</p>
					</div>
				</div> -->
			</div>
			<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
			</a>
			<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
			</a>
		</div>


	{% else %}


	<div class="jumbotron">
	 <div class="container">
		<div class="row">
			<div class='col-sm-6'>
			<h1>Welcome to Beaker.Life</h1>
			<p>Shop our custom selection of craft and domestic beer Today.</p>
			<p>
			<a class="btn btn-lg btn-primary" href="" role="button">Join Us &raquo;</a>
			</p>
			</div>
			<div class='col-sm-6' >
				<iframe width="560" height="315" src="https://www.youtube.com/embed/###" frameborder="0" allowfullscreen></iframe>

	 		</div>
			</div>
		</div>
	 </div>

	 {% endif %}


{% endblock %}




{% block content %}

<div class='container'>
	<div class='row mt-3'>
		<div class='col-sm-12'>
			<h4 class='make-text-smlr'>Featured products <a class="btn btn-outline-dark btn-sm text-uppercase browse" href="{% url 'products:product-variations-list' %}"> Browse All</a></h4>
			<hr/>
		</div>
	</div>
</div>
<div class='nav-scroller-popular'>
	{% include "products/horizontal.html" with object_list=featured_variations %}
</div>

<div class='container'>
	<div class='row'>
		<div class='col-sm-12'>
			<h4 class='make-text-smlr'>Recommended products <a class="btn btn-outline-dark btn-sm text-uppercase browse" href="{% url 'products:product-variations-list' %}"> Browse All</a></h4>
			<hr/>
		</div>
	</div>
</div>

<div class='nav-scroller-popular'>
    {% include "products/horizontal.html" with object_list=variations %}
</div>

<div class='container'>
	<div class='row'>
		<div class='col-sm-12'>
			<h4 class='make-text-smlr'>Popular products <a class="btn btn-outline-dark btn-sm text-uppercase browse" href="{% url 'products:product-variations-list' %}"> Browse All</a></h4>
			<hr/>
		</div>
	</div>
</div>

<div class='nav-scroller-popular'>
		<!-- {% include "products/products.html" with object_list=products col_class_set="col-sm-2" %} -->
		{% include "products/horizontal.html" with object_list=popular_variations col_class_set="col-sm-2" %}
</div>

<div class="jumbotron-f">
	<div class='container'>
		<div class="row">
			<div class='col-sm-12 text-right'>
				<div class='vid-container mb-4'>
					<div class='info'>
						<div class='title-block'>
						<div class='title-color'></div>
							<h4 class='title'><a href='{{ featured_post.get_absolute_url }}'>{{ featured_post.title }}<br/>
							<span class='jumbo-sm'>{{ featured_post.content|truncatewords:12 }}</span></a></h4>
						</div>
					</div>
				</div>
				<br/><br/><br/><br/><br/>
			</div>
		</div>
	</div>
</div>

<div class='container'>
	<div class="row mt-2">
		<div class="col-sm-8 mx-auto">
			<div class='card'>
				<div class='card-body'>
					<p class='lead text-align-center'>{{ title }}</p>

					<form method='POST' action=''>{% csrf_token %}

					{{ form|crispy }}
					
					{% if signed_up %}

					{% else %}

					<input class='btn btn-dark btn-block' type='submit' value='Sign Up' />
					
					{% endif %}
					</form>
					<br/>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}


<div class='container'>
	<div class='row mt-3'>
		<div class='col-sm-12'>
			<h4 class='make-text-smlr'>Featured Products <a class="btn btn-outline-dark btn-sm text-uppercase browse" href="{% url 'products:product-variations-list' %}"> Browse All</a></h4>
			<hr/>
		</div>
	<!-- {% include "products/products.html" with object_list=products2 %} -->
	{% include "products/variations.html" with object_list=featured_variations col_class_set="col-sm-2" %}

	</div>
</div>